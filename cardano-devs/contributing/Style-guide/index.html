<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-cardano-devs/contributing/Style-guide" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Haskell Style Guide | Cardano</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-site.example.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-site.example.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-site.example.com/cardano-devs/contributing/Style-guide"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Haskell Style Guide | Cardano"><meta data-rh="true" name="description" content="This style guide is mostly a copy of Johan Tibell&#x27;s guide"><meta data-rh="true" property="og:description" content="This style guide is mostly a copy of Johan Tibell&#x27;s guide"><link data-rh="true" rel="icon" href="/img/cardano.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-site.example.com/cardano-devs/contributing/Style-guide"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/cardano-devs/contributing/Style-guide" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/cardano-devs/contributing/Style-guide" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Cardano RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Cardano Atom Feed"><link rel="stylesheet" href="/assets/css/styles.4981c460.css">
<script src="/assets/js/runtime~main.a6af05e3.js" defer="defer"></script>
<script src="/assets/js/main.cc67bbf1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/cardano-logo.png" alt="cardano docs" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/cardano-logo-darkmode.png" alt="cardano docs" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Documentation</b></a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Welcome</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cardano-node/build-from-source">Cardano Node</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cardano-cli/build-cli-from-source">Cardano CLI</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/plutus/welcomePlutus">Plutus</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/cardano-devs/ADR/ADR-0-Documenting-Architecture-Decisions">For Cardano Developers</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/cardano-devs/ADR/ADR-0-Documenting-Architecture-Decisions">ADR</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/cardano-devs/archive/Byron-Rewrite-Node-Demo-1">archive</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/cardano-devs/contributing/CLI-era-command-groups">contributing</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cardano-devs/contributing/CLI-era-command-groups">CLI-era-command-groups</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cardano-devs/contributing/Cardano-node-required-checks">Cardano-node-required-checks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cardano-devs/contributing/Concurrency-groups-in-Github-Actions-workflows">Concurrency-groups-in-Github-Actions-workflows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cardano-devs/contributing/Deprecation">Deprecation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cardano-devs/contributing/Git-submodules-guide">Git-submodules-guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cardano-devs/contributing/Running-tests">Running-tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cardano-devs/contributing/Style-guide">Haskell Style Guide</a></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">For Cardano Developers</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">contributing</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Haskell Style Guide</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Haskell Style Guide</h1>
<blockquote>
<p>This style guide is mostly a copy of <a href="https://github.com/tibbe/haskell-style-guide/blob/master/haskell-style.md" target="_blank" rel="noopener noreferrer">Johan Tibell&#x27;s guide</a>
with some restructurization, elaboration on some topics and some additions.
This style guide&#x27;s aims are code beauty, readability and understandability.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="principles">Principles<a href="#principles" class="hash-link" aria-label="Direct link to Principles" title="Direct link to Principles">​</a></h2>
<ul>
<li>The primary goal is readability/maintainability with performance as a close second.</li>
<li>Always use types to clarify intent and make invalid states unrepresentable.</li>
<li>Use type signatures as compiler checked documentation.</li>
<li>Break up large functions into smaller sub functions.</li>
<li>When modifying or adding code to existing code (either at the file, project or company level), try to match the style of the existing code.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="general-guide-lines">General guide lines<a href="#general-guide-lines" class="hash-link" aria-label="Direct link to General guide lines" title="Direct link to General guide lines">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="code-linting-and-formatting-tools">Code linting and formatting tools<a href="#code-linting-and-formatting-tools" class="hash-link" aria-label="Direct link to Code linting and formatting tools" title="Direct link to Code linting and formatting tools">​</a></h3>
<p><code>stylish-haskell</code> is used for automatic code formatting and <code>hlint</code> for linting.
Those are configured using <code>.stylish-haskell.yml</code> and <code>.hlint.yml</code> files in the repository root.
If you would like to check your changes before committing them, you can use the following <a href="https://github.com/intersectmbo/cardano-node/blob/master/scripts/githooks/haskell-style-lint" target="_blank" rel="noopener noreferrer"><code>.git/hooks/pre-commit</code> hook</a>.
It requires <code>stylish-haskell</code> and <code>hlint</code> to be available in <code>$PATH</code> and runs against the staged files.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="line-length">Line Length<a href="#line-length" class="hash-link" aria-label="Direct link to Line Length" title="Direct link to Line Length">​</a></h3>
<p>Maximum line length is <em>80 characters</em> or <em>100 characters</em> if necessary.</p>
<p>Modern screens have high definition and big width.
But with some tiling managers and two terminals on one screen you are not able to
see many characters on one line.
On the other hand, restricting line size to a very small number like 80 leads to
some crazy indentation despite the fact that
shorter lines should force you to write well structured code.
That&#x27;s why <em>100</em> is a reasonable compromise.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="indentation">Indentation<a href="#indentation" class="hash-link" aria-label="Direct link to Indentation" title="Direct link to Indentation">​</a></h3>
<ul>
<li>Do not vertically align code. Mainly because the need to change identifiers and re-aligning the other lines causes semantically null changes in the diff.</li>
<li>Tabs are illegal.</li>
<li>Use spaces for indenting.</li>
<li>Indent your code blocks with <em>2 spaces</em>.</li>
<li>Indent the <code>where</code> keyword with one space to set it
apart from the rest of the code and indent the definitions in a
<code>where</code> clause with 1 space.</li>
</ul>
<p>Some examples:</p>
<div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sayHello :: IO ()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sayHello = do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name &lt;- getLine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  putStrLn $ greeting name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> where</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  greeting :: String -&gt; String</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  greeting name = &quot;Hello, &quot; ++ name ++ &quot;!&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">filter :: (a -&gt; Bool) -&gt; [a] -&gt; [a]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">filter _ [] = []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">filter p (x:xs)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | p x = x : filter p xs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | otherwise = filter p xs</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="blank-lines">Blank Lines<a href="#blank-lines" class="hash-link" aria-label="Direct link to Blank Lines" title="Direct link to Blank Lines">​</a></h3>
<ul>
<li>One blank line between top-level definitions.</li>
<li>No blank lines between type signatures and function definitions.</li>
<li>Add one blank line between
functions in a type class instance declaration if the function bodies
are large.</li>
<li>You can add blank lines inside a big <code>do</code> block to separate logical
parts of it.</li>
<li>You can also use blank lines to separate definitions inside <code>where</code>
clause, if necessary.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="whitespace">Whitespace<a href="#whitespace" class="hash-link" aria-label="Direct link to Whitespace" title="Direct link to Whitespace">​</a></h3>
<ul>
<li>
<p>Surround binary operators with a single space on either side. In case of
currying add one space between the argument and the operation.</p>
</li>
<li>
<p>Use some tool to remove trailing spaces.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="naming-convention">Naming convention<a href="#naming-convention" class="hash-link" aria-label="Direct link to Naming convention" title="Direct link to Naming convention">​</a></h3>
<p><strong>Casing</strong>:</p>
<ul>
<li><strong><em>lowerCamelCase</em></strong> for function and variable names.</li>
<li><strong><em>UpperCamelCase</em></strong> for types.</li>
</ul>
<ul>
<li>
<p>Don&#x27;t use short names like <code>n</code>, <code>sk</code>, <code>f</code> unless their meaning is clear from
context (function name, types, other variables, etc.).</p>
</li>
<li>
<p>For readability reasons, don&#x27;t capitalize all letters when using an
abbreviation.  For example, write <code>HttpServer</code> instead of
<code>HTTPServer</code>.  Exception: two or three letter abbreviations, e.g. <code>IO</code>, <code>STM</code>.</p>
</li>
</ul>
<p><strong>Records name conventions</strong></p>
<p>If data type has only one constructor then this data type name should be the same
as constructor name (also applies to <code>newtype</code>).</p>
<div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data User = User Int String</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Field names for record data types</strong></p>
<p>Choose a reasonable prefix is used such that we can ensure the field name will remain unique throughout the package. Use your discretion.</p>
<p>e.g</p>
<div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data MempoolEnv m blk = MempoolEnv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  { meLedger :: LedgerInterface m blk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  , meLedgerCfg :: LedgerConfig blk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  , meStateVar :: StrictTVar m (InternalState blk)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  , meTracer :: Tracer m (TraceEventMempool blk)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="comments">Comments<a href="#comments" class="hash-link" aria-label="Direct link to Comments" title="Direct link to Comments">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="punctuation">Punctuation<a href="#punctuation" class="hash-link" aria-label="Direct link to Punctuation" title="Direct link to Punctuation">​</a></h4>
<p>Write proper sentences; start with a capital letter and use proper
punctuation.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="top-level-definitions">Top-Level Definitions<a href="#top-level-definitions" class="hash-link" aria-label="Direct link to Top-Level Definitions" title="Direct link to Top-Level Definitions">​</a></h4>
<ul>
<li>Comment top level functions (particularly exported functions)
as much as possible. If it is not blindingly obvious what a function
is doing, you should add a comment.</li>
<li>Always provide a type signature</li>
<li>Use Haddock syntax in the comments.</li>
<li>Comment every exported data type.</li>
</ul>
<p>Function example:</p>
<div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-- | Send a message on a socket. The socket must be in a connected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- state. Returns the number of bytes sent. Applications are</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- responsible for ensuring that all data has been sent.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">send</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :: Socket      -- ^ Connected socket</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -&gt; ByteString  -- ^ Data to send</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -&gt; IO Int      -- ^ Bytes sent</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>For functions, the documentation should give enough information to
apply the function without looking at its definition.</li>
</ul>
<p>Record example:</p>
<div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-- | Bla bla bla.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data Person = Person</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  { age :: !Int     -- ^ Age</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  , name :: !String  -- ^ First name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For fields that require longer comments, format them this way:</p>
<div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data Record = Record</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  { -- | This is a very very very long comment that is split over</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -- multiple lines.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    field1 :: !Text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -- | This is a second very very very long comment that is split</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -- over multiple lines.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  , field2 :: !Int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="end-of-line-comments">End-of-Line Comments<a href="#end-of-line-comments" class="hash-link" aria-label="Direct link to End-of-Line Comments" title="Direct link to End-of-Line Comments">​</a></h4>
<p>Separate end-of-line comments from the code with 2 spaces. Align
comments for data type definitions. Some examples:</p>
<div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data Parser =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Parser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    !Int         -- ^ Current position</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    !ByteString  -- ^ Remaining input</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foo :: Int -&gt; Int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foo n = salt * 32 + 9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  where</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salt = 453645243  -- Magic hash salt.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="links">Links<a href="#links" class="hash-link" aria-label="Direct link to Links" title="Direct link to Links">​</a></h4>
<p>Use in-line links economically.  You are encouraged to add links for
API names. It is not necessary to add links for all API names in a
Haddock comment. We therefore recommend adding a link to an API name
if:</p>
<ul>
<li>
<p>The user might actually want to click on it for more information (in
your opinion), and</p>
</li>
<li>
<p>Only for the first occurrence of each API name in the comment (don&#x27;t
bother repeating a link)</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="top-down-guideline">Top-down guideline<a href="#top-down-guideline" class="hash-link" aria-label="Direct link to Top-down guideline" title="Direct link to Top-down guideline">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="language-extensions-section">LANGUAGE extensions section<a href="#language-extensions-section" class="hash-link" aria-label="Direct link to LANGUAGE extensions section" title="Direct link to LANGUAGE extensions section">​</a></h3>
<p>Write each <code>LANGUAGE</code> pragma on its own line, sort them alphabetically.
<em>Do not</em> align by max width as future re-alignment when adding new pragmas
will cause semantically null changes in the diff.</p>
<div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{-# LANGUAGE FlexibleContexts #-}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{-# LANGUAGE Rank2Types #-}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{-# LANGUAGE TemplateHaskell #-}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="module-name">Module name<a href="#module-name" class="hash-link" aria-label="Direct link to Module name" title="Direct link to Module name">​</a></h3>
<p>Use singular when naming modules (e.g. use <code>Data.Map</code> and
<code>Data.ByteString.Internal</code> instead of <code>Data.Maps</code> and
<code>Data.ByteString.Internals</code>). Sometimes it&#x27;s acceptable to use plural
(e. g. <code>Types</code>, <code>Instances</code>).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="export-lists">Export Lists<a href="#export-lists" class="hash-link" aria-label="Direct link to Export Lists" title="Direct link to Export Lists">​</a></h3>
<p>Format export lists as follows:</p>
<div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">module Data.Set</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ( Set</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  , empty</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  , singleton</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  , member</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ) where</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Some clarifications:</p>
<ol>
<li>Use 2 spaces indentation for export list.</li>
<li>You can split export list into sections or just write all as single section.</li>
<li>It is strongly advised to sort each section alphabetically. However,
classes, data types and type aliases should be written before
functions.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="imports">Imports<a href="#imports" class="hash-link" aria-label="Direct link to Imports" title="Direct link to Imports">​</a></h3>
<ul>
<li>For external modules, use explicit or <code>qualified</code> imports.</li>
<li>For local modules, use implicit imports.</li>
<li>Always use explicit import lists or <code>qualified</code> imports.<!-- -->
<ul>
<li><strong>Exception</strong>:
<a href="https://github.com/intersectmbo/cardano-prelude" target="_blank" rel="noopener noreferrer"><code>cardano-prelude</code></a> (import implicitly)</li>
</ul>
</li>
</ul>
<p>If the <code>import</code> is unqualified then put <em>11 spaces</em> between the <code>import</code> keyword and the module name (i.e. length of <code>qualified</code> + 2).</p>
<p>Unqualified types (i.e. <code>Map</code> vs. <code>M.Map</code>) look pretty good and not so ugly.
Prefer two-line imports for such standard containers.</p>
<div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import           Data.Map.Strict (Map)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import qualified Data.Map.Strict as Map</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-declarations">Data Declarations<a href="#data-declarations" class="hash-link" aria-label="Direct link to Data Declarations" title="Direct link to Data Declarations">​</a></h3>
<p>Align the constructors in a data type definition.  Example:</p>
<div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data HttpException</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  = InvalidStatusCode Int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | MissingContentHeader</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Format records as follows:</p>
<div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data Person = Person</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  { firstName :: !String  -- ^ First name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  , lastName :: !String  -- ^ Last name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  , age :: !Int     -- ^ Age</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  } deriving (Eq, Show)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Type classes in <code>deriving</code> section should be always surrounded by
parentheses.</p>
<p><em>WARNING</em>: try to avoid aggressive autoderiving. Deriving instances can
slowdown compilation
(stated here: <a href="http://www.stephendiehl.com/posts/production.html" target="_blank" rel="noopener noreferrer">http://www.stephendiehl.com/posts/production.html</a>)</p>
<blockquote>
<p>Deriving instances of Read/Show/Data/Generic for largely recursive ADTs can
sometimes lead to quadratic memory behavior when the nesting gets deep.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="function-declaration">Function declaration<a href="#function-declaration" class="hash-link" aria-label="Direct link to Function declaration" title="Direct link to Function declaration">​</a></h3>
<ul>
<li>
<p>All functions must have type signatures.</p>
</li>
<li>
<p>Specialize function type signature for concrete types if you&#x27;re using this function
with only one type for each argument. Otherwise you should use more polymorphic
version. Compiler can optimize specialized functions better
and meaning of this function may be clearer.
Use this rule unless you are the library creator and want your library to be abstract
as possible.</p>
</li>
<li>
<p>It is allowed to omit parentheses for only one type class constraint.</p>
</li>
<li>
<p>If a function type signature is very long then place some of the types on its own line.</p>
</li>
</ul>
<p>Example :</p>
<div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">putValueInState</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :: MonadIO m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  =&gt; UserState -&gt; Maybe Int -&gt; AppConfig</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -&gt; Integer -&gt; (Int -&gt; m ()) -&gt; m ()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="list-declarations">List Declarations<a href="#list-declarations" class="hash-link" aria-label="Direct link to List Declarations" title="Direct link to List Declarations">​</a></h3>
<p>Align the elements in the list.  Example:</p>
<div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">exceptions =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [ InvalidStatusCode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  , MissingContentHeader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  , InternalServerError</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="if-then-else-clauses">If-then-else clauses<a href="#if-then-else-clauses" class="hash-link" aria-label="Direct link to If-then-else clauses" title="Direct link to If-then-else clauses">​</a></h3>
<p>Generally, guards and pattern matches should be preferred over <em>if-then-else</em>
clauses, where possible.  Short cases should usually be put on a single line
(when line length allows it).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="case-expressions">Case expressions<a href="#case-expressions" class="hash-link" aria-label="Direct link to Case expressions" title="Direct link to Case expressions">​</a></h3>
<p>The alternatives in a case expression can be indented using either of
the two following styles:</p>
<div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">foobar =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  case something of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Just j -&gt; foo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Nothing -&gt; bar</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>or as</p>
<div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">foobar = case something of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           Just j -&gt; foo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           Nothing -&gt; bar</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>but not</p>
<div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">foobar = case something of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Just j  -&gt; foo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Nothing -&gt; bar</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Subexpressions should always be indented to the right of their parent expression.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="dealing-with-laziness">Dealing with laziness<a href="#dealing-with-laziness" class="hash-link" aria-label="Direct link to Dealing with laziness" title="Direct link to Dealing with laziness">​</a></h2>
<p>By default, use strict data types and lazy functions.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-types">Data types<a href="#data-types" class="hash-link" aria-label="Direct link to Data types" title="Direct link to Data types">​</a></h3>
<p>Constructor fields should be strict, unless there&#x27;s an explicit reason
to make them lazy.  This helps to avoid many common pitfalls caused by too much
laziness and reduces the number of brain cycles the programmer has to
spend thinking about evaluation order.</p>
<div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-- Good</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data Point = Point</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  { pointX :: !Double  -- ^ X coordinate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  , pointY :: !Double  -- ^ Y coordinate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-- Bad</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data Point = Point</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  { pointX :: Double  -- ^ X coordinate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  , pointY :: Double  -- ^ Y coordinate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="misc">Misc<a href="#misc" class="hash-link" aria-label="Direct link to Misc" title="Direct link to Misc">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="multi-line-string-literals">Multi-line string literals<a href="#multi-line-string-literals" class="hash-link" aria-label="Direct link to Multi-line string literals" title="Direct link to Multi-line string literals">​</a></h3>
<p>Multi-line string literals like this should be avoided because it can interact badly with some language extensions like <code>CPP</code>:</p>
<div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">foo = &quot;The quick brown fox jumps \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  \over the lazy dog&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Instead do one of the following:</p>
<p>Use <code>mconcat</code>:</p>
<div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">foo = mconcat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [ &quot;The quick brown fox jumps &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  , &quot;over the lazy dog&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The above is preferred because it makes it easy to maintain the two-space indent and allows the use of <code>$</code> where other options do not.</p>
<p>For example:</p>
<div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">foo = mconcat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [ &quot;The quick brown fox jumps &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  , Text.pack $ reverse &quot;over the lazy dog&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Use <code>(&lt;&gt;)</code>, keeping argument and operator aligned to two-spaces:</p>
<div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">foo = Text.pack</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (   &quot;The quick brown fox jumps &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;&gt;  &quot;over the lazy dog&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  )</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="point-free-style">Point-free style<a href="#point-free-style" class="hash-link" aria-label="Direct link to Point-free style" title="Direct link to Point-free style">​</a></h3>
<p>Avoid over-using point-free style. Again, use your discretion.</p>
<p>For example, this is hard to read:</p>
<div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-- Bad:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">f = (g .) . h</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Whereas this is fine:</p>
<div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">unFooBar :: Foo -&gt; Baz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">unFooBar = Baz . unBar . unFoo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The point-free version needs to have a clarity benefit but we realize
that this is vague so use your discretion.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cabal-file-formatting">Cabal file formatting<a href="#cabal-file-formatting" class="hash-link" aria-label="Direct link to Cabal file formatting" title="Direct link to Cabal file formatting">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="modules--libraries">Modules &amp; libraries<a href="#modules--libraries" class="hash-link" aria-label="Direct link to Modules &amp; libraries" title="Direct link to Modules &amp; libraries">​</a></h3>
<p>Modules and libraries should go in alphabetical order inside corresponding
sections. You can put blank lines between groups in each section.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="warnings">Warnings<a href="#warnings" class="hash-link" aria-label="Direct link to Warnings" title="Direct link to Warnings">​</a></h3>
<p>Code should be compilable with <code>-Wall</code> without warnings.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="default-extensions">Default extensions<a href="#default-extensions" class="hash-link" aria-label="Direct link to Default extensions" title="Direct link to Default extensions">​</a></h3>
<p>The only allowed default extension is: <code>NoImplicitPrelude</code>
All other extensions need to be put in the relevant module.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="language-extensions-to-avoid">Language Extensions to avoid<a href="#language-extensions-to-avoid" class="hash-link" aria-label="Direct link to Language Extensions to avoid" title="Direct link to Language Extensions to avoid">​</a></h2>
<ol>
<li>
<p>Avoid <code>RecordWildCards</code> - use <code>NamedFieldPuns</code> instead. <code>RecordWildCards</code> makes it difficult to discern where record accessor functions come from, <em>especially</em> when used with external libraries. This results in time wasted searching for the accessors. <code>NamedFieldPuns</code> forces you to be more explicit and is a better alternative.</p>
</li>
<li>
<p>Avoid <code>ViewPatterns</code> - <code>ViewPatterns</code> obfuscates what could have been readable code and incurs more cognitive overhead.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="options_ghc-pragma-to-avoid">OPTIONS_GHC pragma to avoid<a href="#options_ghc-pragma-to-avoid" class="hash-link" aria-label="Direct link to OPTIONS_GHC pragma to avoid" title="Direct link to OPTIONS_GHC pragma to avoid">​</a></h2>
<ol>
<li>
<p><code>-Wno-incomplete-uni-patterns</code> - This a bad idea. GHC will not warn you if you have not explicitly handled all possible cases in your function definitions. This opens up the possibility of a runtime error.</p>
</li>
<li>
<p><code>-Wno-partial-fields</code> - This will allow you to define a partial record accessor which opens you up to the possibility of a runtime error.</p>
</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/cardano-devs/contributing/Style-guide.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/cardano-devs/contributing/Running-tests"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Running-tests</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#principles" class="table-of-contents__link toc-highlight">Principles</a></li><li><a href="#general-guide-lines" class="table-of-contents__link toc-highlight">General guide lines</a><ul><li><a href="#code-linting-and-formatting-tools" class="table-of-contents__link toc-highlight">Code linting and formatting tools</a></li><li><a href="#line-length" class="table-of-contents__link toc-highlight">Line Length</a></li><li><a href="#indentation" class="table-of-contents__link toc-highlight">Indentation</a></li><li><a href="#blank-lines" class="table-of-contents__link toc-highlight">Blank Lines</a></li><li><a href="#whitespace" class="table-of-contents__link toc-highlight">Whitespace</a></li><li><a href="#naming-convention" class="table-of-contents__link toc-highlight">Naming convention</a></li><li><a href="#comments" class="table-of-contents__link toc-highlight">Comments</a></li></ul></li><li><a href="#top-down-guideline" class="table-of-contents__link toc-highlight">Top-down guideline</a><ul><li><a href="#language-extensions-section" class="table-of-contents__link toc-highlight">LANGUAGE extensions section</a></li><li><a href="#module-name" class="table-of-contents__link toc-highlight">Module name</a></li><li><a href="#export-lists" class="table-of-contents__link toc-highlight">Export Lists</a></li><li><a href="#imports" class="table-of-contents__link toc-highlight">Imports</a></li><li><a href="#data-declarations" class="table-of-contents__link toc-highlight">Data Declarations</a></li><li><a href="#function-declaration" class="table-of-contents__link toc-highlight">Function declaration</a></li><li><a href="#list-declarations" class="table-of-contents__link toc-highlight">List Declarations</a></li><li><a href="#if-then-else-clauses" class="table-of-contents__link toc-highlight">If-then-else clauses</a></li><li><a href="#case-expressions" class="table-of-contents__link toc-highlight">Case expressions</a></li></ul></li><li><a href="#dealing-with-laziness" class="table-of-contents__link toc-highlight">Dealing with laziness</a><ul><li><a href="#data-types" class="table-of-contents__link toc-highlight">Data types</a></li></ul></li><li><a href="#misc" class="table-of-contents__link toc-highlight">Misc</a><ul><li><a href="#multi-line-string-literals" class="table-of-contents__link toc-highlight">Multi-line string literals</a></li><li><a href="#point-free-style" class="table-of-contents__link toc-highlight">Point-free style</a></li></ul></li><li><a href="#cabal-file-formatting" class="table-of-contents__link toc-highlight">Cabal file formatting</a><ul><li><a href="#modules--libraries" class="table-of-contents__link toc-highlight">Modules &amp; libraries</a></li><li><a href="#warnings" class="table-of-contents__link toc-highlight">Warnings</a></li><li><a href="#default-extensions" class="table-of-contents__link toc-highlight">Default extensions</a></li></ul></li><li><a href="#language-extensions-to-avoid" class="table-of-contents__link toc-highlight">Language Extensions to avoid</a></li><li><a href="#options_ghc-pragma-to-avoid" class="table-of-contents__link toc-highlight">OPTIONS_GHC pragma to avoid</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cardano-node/build-from-source">Cardano Node</a></li><li class="footer__item"><a class="footer__link-item" href="/cardano-cli/build-cli-from-source">Cardano CLI</a></li><li class="footer__item"><a href="https://github.com/IntersectMBO" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contributing<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://cardano.stackexchange.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Exchange<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/z5pURn74N5" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/Cardano_CF" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter Cardano Foundation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/InputOutputHK" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter IntersectMBO<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/IntersectMBO" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/IntersectMBO" target="_blank" rel="noopener noreferrer" class="footer__link-item">Disclaimer<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © IOG 2024</div></div></div></footer></div>
</body>
</html>