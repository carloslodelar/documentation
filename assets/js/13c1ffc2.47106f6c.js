"use strict";(self.webpackChunknode_cli_docs=self.webpackChunknode_cli_docs||[]).push([[5788],{5013:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>l});var o=t(4848),r=t(8453);const s={title:"Run the node",id:"running-node",sidebar_position:4,keywords:["Get-started","run the node","installation","cardano-node","cardano node"]},i="Running the node and connecting to a network",a={id:"cardano-node/running-node",title:"Run the node",description:"Public networks",source:"@site/docs/cardano-node/runningNode.md",sourceDirName:"cardano-node",slug:"/cardano-node/running-node",permalink:"/cardano-node/running-node",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/cardano-node/runningNode.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"Run the node",id:"running-node",sidebar_position:4,keywords:["Get-started","run the node","installation","cardano-node","cardano node"]},sidebar:"tutorialSidebar",previous:{title:"Configuration files",permalink:"/cardano-node/configuration-files"},next:{title:"Peer to peer",permalink:"/cardano-node/p2p"}},d={},l=[{value:"Public networks",id:"public-networks",level:2},{value:"Getting configuration files for the preview testnet",id:"getting-configuration-files-for-the-preview-testnet",level:2},{value:"Running a passive node on the preview testnet",id:"running-a-passive-node-on-the-preview-testnet",level:3},{value:"Running a mainnet node",id:"running-a-mainnet-node",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"running-the-node-and-connecting-to-a-network",children:"Running the node and connecting to a network"}),"\n",(0,o.jsx)(n.h2,{id:"public-networks",children:"Public networks"}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsxs)(n.p,{children:["Configuration files for the supported networks can be found at ",(0,o.jsx)(n.a,{href:"https://book.world.dev.cardano.org/environments.html",children:"https://book.world.dev.cardano.org/environments.html"}),"."]})}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{style:{textAlign:"left"},children:"Network"}),(0,o.jsx)(n.th,{style:{textAlign:"left"},children:"Usage"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{style:{textAlign:"left"},children:(0,o.jsx)(n.strong,{children:"Mainnet"})}),(0,o.jsx)(n.td,{style:{textAlign:"left"},children:"Live Production. Only gets official mainnet releases."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{style:{textAlign:"left"},children:(0,o.jsx)(n.strong,{children:"Pre-production"})}),(0,o.jsxs)(n.td,{style:{textAlign:"left"},children:["Testing release candidates and mainnet releases. Forks at approximately same time as mainnet (within an epoch of each other).",(0,o.jsx)("br",{})," Long running. Since this parallels mainnet, if a bug occurs here, it needs fixed properly and can not be respun."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{style:{textAlign:"left"},children:(0,o.jsx)(n.strong,{children:"Preview"})}),(0,o.jsxs)(n.td,{style:{textAlign:"left"},children:["Testing release candidates and mainnet releases. Leads mainnet hard forks by at least 4 weeks.",(0,o.jsx)("br",{})," Ideally stays long running. Only if an issue is found after it forks that's breaking should it be respun.",(0,o.jsx)("br",{})," Epoch length of 1 day. Development flags allowed in configuration files."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{style:{textAlign:"left"},children:(0,o.jsx)(n.strong,{children:"SanchoNet"})}),(0,o.jsxs)(n.td,{style:{textAlign:"left"},children:["Testing Conway era functionality.",(0,o.jsx)("br",{})," The Sanchonet chain will be rolled back with each new node release for testing new features and fixes.",(0,o.jsx)("br",{})," Epoch length of 1 day. Development flags allowed in configuration files."]})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"getting-configuration-files-for-the-preview-testnet",children:"Getting configuration files for the preview testnet"}),"\n",(0,o.jsx)(n.p,{children:"Create a directory for your node files:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"mkdir preview\ncd preview\n"})}),"\n",(0,o.jsx)(n.p,{children:"Download the configuration files:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"wget https://book.world.dev.cardano.org/environments/preview/config.json\nwget https://book.world.dev.cardano.org/environments/preview/topology.json\nwget https://book.world.dev.cardano.org/environments/preview/byron-genesis.json\nwget https://book.world.dev.cardano.org/environments/preview/shelley-genesis.json\nwget https://book.world.dev.cardano.org/environments/preview/alonzo-genesis.json\nwget https://book.world.dev.cardano.org/environments/preview/conway-genesis.json\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cardano-node run --help\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"Usage: cardano-node run [--topology FILEPATH]\n                          [--database-path FILEPATH]\n                          [--socket-path FILEPATH]\n                          [ --tracer-socket-path-accept FILEPATH\n                          | --tracer-socket-path-connect FILEPATH\n                          ]\n                          [--byron-delegation-certificate FILEPATH]\n                          [--byron-signing-key FILEPATH]\n                          [--shelley-kes-key FILEPATH]\n                          [--shelley-vrf-key FILEPATH]\n                          [--shelley-operational-certificate FILEPATH]\n                          [--bulk-credentials-file FILEPATH]\n                          [--host-addr IPV4]\n                          [--host-ipv6-addr IPV6]\n                          [--port PORT]\n                          [--config NODE-CONFIGURATION]\n                          [--snapshot-interval SNAPSHOTINTERVAL]\n                          [--validate-db]\n                          [ --mempool-capacity-override BYTES\n                          | --no-mempool-capacity-override\n                          ]\n"})}),"\n",(0,o.jsx)(n.h3,{id:"running-a-passive-node-on-the-preview-testnet",children:"Running a passive node on the preview testnet"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cardano-node run --topology topology.json \\\n--database-path db \\\n--socket-path node.socket \\\n--port 3001 \\\n--config config.json \n"})}),"\n",(0,o.jsx)(n.p,{children:"Open a new terminal and create the CARDANO_NODE_SOCKET_PATH environment variable:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'export CARDANO_NODE_SOCKET_PATH="$HOME/preview/node.socket"\n'})}),"\n",(0,o.jsx)(n.p,{children:"Check that the node is syncing:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cardano-cli query tip --testnet-magic 2\n"})}),"\n",(0,o.jsx)(n.h3,{id:"running-a-mainnet-node",children:"Running a mainnet node"}),"\n",(0,o.jsx)(n.p,{children:"Create a directory for the mainnet node:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"mkdir mainnet\ncd mainnet\n"})}),"\n",(0,o.jsx)(n.p,{children:"Get the configuration files:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"wget https://book.world.dev.cardano.org/environments/mainnet/config.json\nwget https://book.world.dev.cardano.org/environments/mainnet/topology.json\nwget https://book.world.dev.cardano.org/environments/mainnet/byron-genesis.json\nwget https://book.world.dev.cardano.org/environments/mainnet/shelley-genesis.json\nwget https://book.world.dev.cardano.org/environments/mainnet/alonzo-genesis.json\nwget https://book.world.dev.cardano.org/environments/mainnet/conway-genesis.json\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cardano-node run --topology topology.json \\\n--database-path db \\\n--socket-path node.socket \\\n--port 3001 \\\n--config config.json \n"})}),"\n",(0,o.jsx)(n.p,{children:"On the new terminal:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'export CARDANO_NODE_SOCKET_PATH="$HOME/mainnet/node.socket"\n'})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>a});var o=t(6540);const r={},s=o.createContext(r);function i(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);