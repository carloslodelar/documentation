"use strict";(self.webpackChunknode_cli_docs=self.webpackChunknode_cli_docs||[]).push([[4595],{9905:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>d});var r=o(4848),t=o(8453);const s={title:"Configuration files",id:"configuration-files",sidebar_position:4,keywords:["Get-started","download","binaries","installation","cardano-node"]},i="Configuration files for cardano-node",a={id:"cardano-node/configuration-files",title:"Configuration files",description:"The topology.json file",source:"@site/docs/cardano-node/configurationFiles.md",sourceDirName:"cardano-node",slug:"/cardano-node/configuration-files",permalink:"/documentation/cardano-node/configuration-files",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/cardano-node/configurationFiles.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"Configuration files",id:"configuration-files",sidebar_position:4,keywords:["Get-started","download","binaries","installation","cardano-node"]},sidebar:"tutorialSidebar",previous:{title:"Pre-compiled binaries",permalink:"/documentation/cardano-node/precompiled-binaries"},next:{title:"Run the node",permalink:"/documentation/cardano-node/running-node"}},c={},d=[{value:"The topology.json file",id:"the-topologyjson-file",level:2},{value:"The P2P topology.json file",id:"the-p2p-topologyjson-file",level:2},{value:"The genesis.json file",id:"the-genesisjson-file",level:2},{value:"The config.json file",id:"the-configjson-file",level:2},{value:"Basic node configuration",id:"basic-node-configuration",level:3},{value:"Update parameters",id:"update-parameters",level:3},{value:"Tracing",id:"tracing",level:3},{value:"Fine grained logging control",id:"fine-grained-logging-control",level:3},{value:"Peer-to-peer (P2P) parameters and tracers",id:"peer-to-peer-p2p-parameters-and-tracers",level:3},{value:"Outbound governor",id:"outbound-governor",level:4},{value:"Peer sharing",id:"peer-sharing",level:4},{value:"Inbound governor",id:"inbound-governor",level:4},{value:"Connection manager",id:"connection-manager",level:4},{value:"Ledger peers",id:"ledger-peers",level:4},{value:"Server",id:"server",level:4}];function l(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"configuration-files-for-cardano-node",children:"Configuration files for cardano-node"}),"\n",(0,r.jsx)(n.h2,{id:"the-topologyjson-file",children:"The topology.json file"}),"\n",(0,r.jsx)(n.p,{children:"This file tells your node which nodes in the network it should talk to. A minimal version of this file looks as follows:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "Producers": [\n    {\n      "addr": "x.x.x.x",\n      "port": 3001,\n      "valency": 1\n    }\n  ]\n}\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["This means that your node will contact the node at IP ",(0,r.jsx)(n.code,{children:"x.x.x.x"})," on ",(0,r.jsx)(n.code,{children:"port 3001"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"valency"})," defines the number of active (hot) outgoing connections to different resolved IP addresses that your node should maintain when a DNS address is specified. The valency setting has no impact when setting an IP address, except when using ",(0,r.jsx)(n.code,{children:"0"})," to disable the connection."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Your ",(0,r.jsx)(n.strong,{children:"block-producing"})," node must ",(0,r.jsx)(n.strong,{children:"ONLY"})," talk to your ",(0,r.jsx)(n.strong,{children:"relay nodes"}),", and the relay nodes should talk to other relay nodes in the network. See this ",(0,r.jsx)(n.a,{href:"https://explorer.cardano.org/relays/topology.json",children:"topology"})," to find out the IP addresses and ports of peers. The ",(0,r.jsx)(n.code,{children:"topology.json"})," found at this link is updated once a week."]}),"\n",(0,r.jsx)(n.h2,{id:"the-p2p-topologyjson-file",children:"The P2P topology.json file"}),"\n",(0,r.jsxs)(n.p,{children:["The P2P topology file specifies how to obtain the ",(0,r.jsx)(n.em,{children:"root peers"})," (or ",(0,r.jsx)(n.em,{children:"bootstrapping\npeers"}),")."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["The term ",(0,r.jsx)(n.em,{children:"local roots"})," refers to a group of peer nodes with which a node will aim to\nmaintain a specific number of active, or 'hot' connections. These hot connections are\nthose that play an active role in the consensus algorithm. Conversely, 'warm'\nconnections refer to those not yet actively participating in the consensus algorithm."]}),"\n",(0,r.jsx)(n.p,{children:"Local roots should comprise local relays or a local block-producing node, and any other\npeers that the node needs to maintain a connection with. These connections are\ntypically kept private."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.em,{children:"public roots"}),": additional bootstrapping nodes. They are either read from\nthe configuration file directly or from the chain. The configured ones\nwill be used to pass a recent snapshot of peers needed before the node caches up\nwith the recent enough chain to construct root peers by itself."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The node does not guarantee a connection with every public root, unlike local ones. However, by being present in the set, it gets an opportunity to establish an outbound connection with that peer."}),"\n",(0,r.jsx)(n.p,{children:"A minimal version of this file looks like this:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "localRoots": [\n      { "accessPoints": [\n            {\n              "address": "x.x.x.x",\n              "port": 3001\n            }\n          ],\n        "advertise": false,\n        "valency": 1\n      }\n  ],\n  "publicRoots": [\n    { "accessPoints": [\n        {\n          "address": "y.y.y.y",\n          "port": 3002\n        }\n        ],\n      "advertise": false\n    }\n  ],\n  "useLedgerAfterSlot": 0\n}\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["The main difference between ",(0,r.jsx)(n.code,{children:"LocalRoots"})," and ",(0,r.jsx)(n.code,{children:"PublicRoots"})," is the ability to specify various groups with varying valencies in the former. This can be valuable for informing your node about different targets within a group to achieve. ",(0,r.jsx)(n.code,{children:"LocalRoots"})," is designed for peers that the node should always keep as hot, such as its own block producer. On the other hand, ",(0,r.jsx)(n.code,{children:"PublicRoots"})," serves as a source of fallback peers, to be used if peers from the ledger (when ",(0,r.jsx)(n.code,{children:"useLedgerAfterSlot"})," is disabled or unavailable) cannot be accessed."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["This means that your node will initiate contact with the node at IP ",(0,r.jsx)(n.code,{children:"x.x.x.x"})," on ",(0,r.jsx)(n.code,{children:"port 3001"})," and resolve the DNS domain ",(0,r.jsx)(n.code,{children:"y.y.y.y"})," (provided it exists). It will then make efforts to establish a connection with at least one of the resolved IPs."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"valency"})," (or ",(0,r.jsx)(n.code,{children:"hotValency"}),") tells the node the number of connections it should attempt to select from the specified group. When a DNS address is provided, valency determines the count of resolved IP addresses for which the node should maintain an active (hot) connection."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"warmValency"})," is an optional field, similar to ",(0,r.jsx)(n.code,{children:"valency"})," or ",(0,r.jsx)(n.code,{children:"hotValency"}),", that informs the node about the number of peers it should maintain as established (warm). This field is optional and defaults to the value set in the ",(0,r.jsx)(n.code,{children:"valency"})," or ",(0,r.jsx)(n.code,{children:"hotValency"})," field. If a value is specified for ",(0,r.jsx)(n.code,{children:"warmValency"}),", it should be greater than or equal to the one defined in ",(0,r.jsx)(n.code,{children:"valency"})," or ",(0,r.jsx)(n.code,{children:"hotValency"}),"; otherwise, ",(0,r.jsx)(n.code,{children:"valency"})," or ",(0,r.jsx)(n.code,{children:"hotValency"})," will be adjusted to match this value. We recommend users set the ",(0,r.jsx)(n.code,{children:"warmValency"})," value to ",(0,r.jsx)(n.code,{children:"hotValency"})," + 1 to ensure at least one backup peer is available to be promoted to a hot connection in case of unexpected events."]}),"\n",(0,r.jsxs)(n.p,{children:["Check ",(0,r.jsx)(n.a,{href:"https://github.com/intersectmbo/ouroboros-network/issues/4565",children:"this issue"})," for more\ncontext on this ",(0,r.jsx)(n.code,{children:"WarmValency"})," addition."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Local root groups shall be non-overlapping."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["The advertise parameter instructs a node about the acceptability of sharing its address\nthrough ",(0,r.jsx)(n.em,{children:"peer sharing"})," (which we'll explain in more detail in a subsequent section). In\nessence, if a node has activated peer sharing, it can receive requests from other nodes\nseeking peers. However, it will only disclose those peers for which it has both local\nand remote permissions."]}),"\n",(0,r.jsxs)(n.p,{children:["Local permission corresponds to the value of the advertise parameter. On the other\nhand, 'remote permission' is tied to the ",(0,r.jsx)(n.code,{children:"PeerSharing"})," value associated with the\nremote address, which is ascertained after the initial handshake between nodes."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Local roots should not be greater than the ",(0,r.jsx)(n.code,{children:"TargetNumberOfKnownPeers"}),".\nIf they are, they will get clamped to the limit."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Your ",(0,r.jsx)(n.strong,{children:"block-producing"})," node must ",(0,r.jsx)(n.strong,{children:"ONLY"})," talk to your ",(0,r.jsx)(n.strong,{children:"relay nodes"}),", and the relay node should talk to other relay nodes in the network."]}),"\n",(0,r.jsxs)(n.p,{children:["You have the option to notify the node of any changes to the topology configuration file\nby sending a SIGHUP signal to the ",(0,r.jsx)(n.code,{children:"cardano-node"})," process. This can be done, for example,\nwith the command ",(0,r.jsx)(n.code,{children:"pkill -HUP cardano-node"}),". Upon receiving the signal, the ",(0,r.jsx)(n.code,{children:"cardano-node"}),"\nwill re-read the configuration file and restart all DNS resolutions."]}),"\n",(0,r.jsx)(n.p,{children:"Please be aware that this procedure is specific to the topology configuration file, not\nthe node configuration file. Additionally, the SIGHUP signal will prompt the system to\nre-read the block forging credentials file paths and attempt to fetch them to initiate\nblock forging. If this process fails, block forging will be disabled. To re-enable block\nforging, ensure that the necessary files are present."}),"\n",(0,r.jsxs)(n.p,{children:["You can disable ledger peers by setting the ",(0,r.jsx)(n.code,{children:"useLedgerAfterSlot"})," to a negative\nvalue."]}),"\n",(0,r.jsxs)(n.p,{children:["If you are syncing the network for the first time, please connect to IOG relays at ",(0,r.jsx)(n.code,{children:"relays-new.cardano-mainnet.iohkdev.io"})," by adding them to your local root peers. Additionally, set ",(0,r.jsx)(n.code,{children:"useLedgerAfterSlot"})," to ",(0,r.jsx)(n.code,{children:"0"})," to disable ledger peers. You have the flexibility to use different relays, but it's important to ensure you trust them to provide an honest chain. Once your node is fully synced, feel free to remove these relays from your local root peers. Also, make it a practice to manually verify if other stake pool relays are on the same chain as yours. When you enable ledger peers by setting ",(0,r.jsx)(n.code,{children:"useLedgerAfterSlot"}),", your node will establish connections with relays registered on the chain. It will actively churn through these peers by randomly selecting new ones based on stake distribution while also removing the least performing 20%."]}),"\n",(0,r.jsx)(n.h2,{id:"the-genesisjson-file",children:"The genesis.json file"}),"\n",(0,r.jsxs)(n.p,{children:["The genesis file is generated with the ",(0,r.jsx)(n.code,{children:"cardano-cli"})," by reading a ",(0,r.jsx)(n.code,{children:"genesis.spec.json"})," file, which is out of scope for this document.\nBut it is important because it is used to set:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"genDelegs"}),", a mapping from genesis keys to genesis delegates"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"initialFunds"}),", a mapping from the initial addresses to the initial values at those addresses"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"maxLovelaceSupply"}),", the total amount of lovelaces in the blockchain"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"systemStart"}),", the time of slot zero."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"genesis.json"})," file looks like the one below:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "activeSlotsCoeff": 0.05,\n  "protocolParams": {\n    "protocolVersion": {\n      "minor": 0,\n      "major": 2\n    },\n    "decentralisationParam": 1,\n    "eMax": 18,\n    "extraEntropy": {\n      "tag": "NeutralNonce"\n    },\n    "maxTxSize": 16384,\n    "maxBlockBodySize": 65536,\n    "maxBlockHeaderSize": 1100,\n    "minFeeA": 44,\n    "minFeeB": 155381,\n    "minUTxOValue": 1000000,\n    "poolDeposit": 500000000,\n    "minPoolCost": 340000000,\n    "keyDeposit": 2000000,\n    "nOpt": 150,\n    "rho": 0.003,\n    "tau": 0.20,\n    "a0": 0.3\n  },\n  "genDelegs": {\n    "ad5463153dc3d24b9ff133e46136028bdc1edbb897f5a7cf1b37950c": {\n      "delegate": "d9e5c76ad5ee778960804094a389f0b546b5c2b140a62f8ec43ea54d",\n      "vrf": "64fa87e8b29a5b7bfbd6795677e3e878c505bc4a3649485d366b50abadec92d7"\n    },\n    "b9547b8a57656539a8d9bc42c008e38d9c8bd9c8adbb1e73ad529497": {\n      "delegate": "855d6fc1e54274e331e34478eeac8d060b0b90c1f9e8a2b01167c048",\n      "vrf": "66d5167a1f426bd1adcc8bbf4b88c280d38c148d135cb41e3f5a39f948ad7fcc"\n    },\n    "60baee25cbc90047e83fd01e1e57dc0b06d3d0cb150d0ab40bbfead1": {\n      "delegate": "7f72a1826ae3b279782ab2bc582d0d2958de65bd86b2c4f82d8ba956",\n      "vrf": "c0546d9aa5740afd569d3c2d9c412595cd60822bb6d9a4e8ce6c43d12bd0f674"\n    },\n    "f7b341c14cd58fca4195a9b278cce1ef402dc0e06deb77e543cd1757": {\n      "delegate": "69ae12f9e45c0c9122356c8e624b1fbbed6c22a2e3b4358cf0cb5011",\n      "vrf": "6394a632af51a32768a6f12dac3485d9c0712d0b54e3f389f355385762a478f2"\n    },\n    "162f94554ac8c225383a2248c245659eda870eaa82d0ef25fc7dcd82": {\n      "delegate": "4485708022839a7b9b8b639a939c85ec0ed6999b5b6dc651b03c43f6",\n      "vrf": "aba81e764b71006c515986bf7b37a72fbb5554f78e6775f08e384dbd572a4b32"\n    },\n    "2075a095b3c844a29c24317a94a643ab8e22d54a3a3a72a420260af6": {\n      "delegate": "6535db26347283990a252313a7903a45e3526ec25ddba381c071b25b",\n      "vrf": "fcaca997b8105bd860876348fc2c6e68b13607f9bbd23515cd2193b555d267af"\n    },\n    "268cfc0b89e910ead22e0ade91493d8212f53f3e2164b2e4bef0819b": {\n      "delegate": "1d4f2e1fda43070d71bb22a5522f86943c7c18aeb4fa47a362c27e23",\n      "vrf": "63ef48bc5355f3e7973100c371d6a095251c80ceb40559f4750aa7014a6fb6db"\n    }\n  },\n  "updateQuorum": 5,\n  "networkId": "Mainnet",\n  "initialFunds": {},\n  "maxLovelaceSupply": 45000000000000000,\n  "networkMagic": 764824073,\n  "epochLength": 432000,\n  "systemStart": "2017-09-23T21:44:51Z",\n  "slotsPerKESPeriod": 129600,\n  "slotLength": 1,\n  "maxKESEvolutions": 62,\n  "securityParam": 2160\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Here is a brief description of each parameter. You can learn more in the ",(0,r.jsx)(n.a,{href:"https://github.com/intersectmbo/cardano-ledger/tree/master/eras/shelley/impl",children:"spec"}),"."]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"PARAMETER"}),(0,r.jsx)(n.th,{children:"MEANING"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"activeSlotsCoeff"}),(0,r.jsx)(n.td,{children:"The proportion of slots in which blocks should be issued"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"poolDeposit"}),(0,r.jsx)(n.td,{children:"The amount of a pool registration deposit"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"protocolVersion"}),(0,r.jsx)(n.td,{children:"Accepted protocol versions"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"decentralisationParam"}),(0,r.jsx)(n.td,{children:"Percentage of blocks produced by federated nodes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"maxTxSize"}),(0,r.jsx)(n.td,{children:"Maximum transaction size"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"minPoolCost"}),(0,r.jsx)(n.td,{children:"Stake pools cannot register/re-register their stake cost below this value"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"minFeeA"}),(0,r.jsx)(n.td,{children:"The linear factor for the minimum fee calculation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"maxBlockBodySize"}),(0,r.jsx)(n.td,{children:"Maximum block body size"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"minFeeB"}),(0,r.jsx)(n.td,{children:"The constant factor for the minimum fee calculation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"eMax"}),(0,r.jsx)(n.td,{children:"Epoch bound on pool retirement"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"extraEntropy"}),(0,r.jsx)(n.td,{children:"Well, extra entropy =)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"maxBlockHeaderSize"}),(0,r.jsx)(n.td,{children:"Maximum block header size"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"keyDeposit"}),(0,r.jsx)(n.td,{children:"The amount of a key registration deposit"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"nOpt"}),(0,r.jsx)(n.td,{children:"Desired number of pools"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"rho"}),(0,r.jsx)(n.td,{children:"Monetary expansion"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"tau"}),(0,r.jsx)(n.td,{children:"Treasury expansion"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"a0"}),(0,r.jsx)(n.td,{children:"Pool's pledge influence"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"networkMagic"}),(0,r.jsx)(n.td,{children:"Used to identify the testnets"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"systemStart"}),(0,r.jsx)(n.td,{children:"Time of slot 0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"genDelegs"}),(0,r.jsx)(n.td,{children:"Mapping from genesis keys to genesis delegate"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"updateQuorum"}),(0,r.jsx)(n.td,{children:"Determines the quorum needed for votes on the protocol parameter updates"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"initialFunds"}),(0,r.jsx)(n.td,{children:"Mapping address to values"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"maxLovelaceSupply"}),(0,r.jsx)(n.td,{children:"The total number of lovelace in the system, used in the reward calculation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"networkMagic"}),(0,r.jsx)(n.td,{children:"To identify the testnet"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"epochLength"}),(0,r.jsx)(n.td,{children:"Number of slots in an epoch"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"staking"}),(0,r.jsx)(n.td,{children:"Initial delegation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"slotsPerKESPeriod"}),(0,r.jsx)(n.td,{children:"Number of slots in the KES period"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"slotLength"}),(0,r.jsx)(n.td,{children:"in seconds"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"maxKESEvolutions"}),(0,r.jsx)(n.td,{children:"The maximum number of times a KES key can be evolved before a pool operator must create a new operational certificate"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"securityParam"}),(0,r.jsx)(n.td,{children:"Security parameter k"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"the-configjson-file",children:"The config.json file"}),"\n",(0,r.jsxs)(n.p,{children:["The default ",(0,r.jsx)(n.code,{children:"config.json"})," file that we downloaded is shown below."]}),"\n",(0,r.jsxs)(n.p,{children:["This file has ",(0,r.jsx)(n.strong,{children:"4"})," sections that allow you to have full control of what your node does and how the information is presented."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"NOTE: Due to how the config.json file is generated, fields on the real file are shown in a different (less coherent) order. Here we present them in a more structured way"})}),"\n",(0,r.jsx)(n.h3,{id:"basic-node-configuration",children:"Basic node configuration"}),"\n",(0,r.jsxs)(n.p,{children:["The first section relates the basic node configuration parameters. Make sure you have ",(0,r.jsx)(n.code,{children:"TPraos"}),"as the protocol, the correct path to the ",(0,r.jsx)(n.code,{children:"mainnet-shelley-genesis.json"})," file, and ",(0,r.jsx)(n.code,{children:"RequiresMagic"}),"for its use on testnet:"]}),"\n",(0,r.jsx)(n.p,{children:'"Protocol": "TPraos",\n"GenesisFile": "mainnet-shelley-genesis.json",\n"RequiresNetworkMagic": "RequiresMagic",'}),"\n",(0,r.jsx)(n.h3,{id:"update-parameters",children:"Update parameters"}),"\n",(0,r.jsx)(n.p,{children:"This protocol version number is used by block-producing nodes as part of the system for agreeing on and synchronizing protocol updates. You just need to be aware of the latest versions supported by the network. You don't need to change anything here:"}),"\n",(0,r.jsx)(n.p,{children:'"LastKnownBlockVersion-Alt": 0,\n"LastKnownBlockVersion-Major": 2,\n"LastKnownBlockVersion-Minor": 0,'}),"\n",(0,r.jsx)(n.h3,{id:"tracing",children:"Tracing"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Tracers"})," tell your node what information you are interested in when logging. Like switches that you can turn ON or OFF according to the type and quantity of information that you are interested in. This provides fairly coarse grained control, but it is relatively efficient at filtering out unwanted trace output:"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"TurnOnLogging"}),": enables or disables logging overall."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"TurnOnLogMetrics"}),": enables the collection of various OS metrics such as memory and CPU use. These metrics can be directed to the logs or monitoring backends."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"setupBackends"}),", ",(0,r.jsx)(n.code,{children:"defaultBackends"}),", ",(0,r.jsx)(n.code,{children:"hasEKG"}),"and ",(0,r.jsx)(n.code,{children:"hasPrometheus"}),": the system supports a number of backends for logging and monitoring. These settings list the backends available to use in the configuration. The logging backend is called ",(0,r.jsx)(n.code,{children:"Katip"}),". Also, enable the EKG backend if you want to use the EKG or Prometheus monitoring interfaces."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"setupScribes"})," and ",(0,r.jsx)(n.code,{children:"defaultScribes"}),": you must set up outputs (called scribes) for the Katip logging backend. The available types of scribes are:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"FileSK: for files"}),"\n",(0,r.jsx)(n.li,{children:"StdoutSK/StderrSK: for stdout/stderr"}),"\n",(0,r.jsx)(n.li,{children:"JournalSK: for systemd's journal system"}),"\n",(0,r.jsx)(n.li,{children:"DevNullSK"}),"\n",(0,r.jsx)(n.li,{children:"The scribe output format can be ScText or ScJson."}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"rotation"}),": the default file rotation settings for Katip scribes, unless overridden in the setupScribes above for specific scribes."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"TurnOnLogging": true,\n"TurnOnLogMetrics": true,\n"TracingVerbosity": "NormalVerbosity",\n"minSeverity": "Debug",\n"TraceBlockFetchClient": false,\n"TraceBlockFetchDecisions": false,\n"TraceBlockFetchProtocol": false,\n"TraceBlockFetchProtocolSerialised": false,\n"TraceBlockFetchServer": false,\n"TraceBlockchainTime": false,\n"TraceChainDb": true,\n"TraceChainSyncBlockServer": false,\n"TraceChainSyncClient": false,\n"TraceChainSyncHeaderServer": false,\n"TraceChainSyncProtocol": false,\n"TraceDNSResolver": true,\n"TraceDNSSubscription": true,\n"TraceErrorPolicy": true,\n"TraceForge": true,\n"TraceHandshake": false,\n"TraceIpSubscription": true,\n"TraceLocalChainSyncProtocol": false,\n"TraceLocalErrorPolicy": true,\n"TraceLocalHandshake": false,\n"TraceLocalTxSubmissionProtocol": false,\n"TraceLocalTxSubmissionServer": false,\n"TraceMempool": true,\n"TraceMux": false,\n"TraceTxInbound": false,\n"TraceTxOutbound": false,\n"TraceTxSubmissionProtocol": false,\n"setupBackends": [\n  "KatipBK"\n],\n"defaultBackends": [\n  "KatipBK"\n],\n"hasEKG": 12788,\n"hasPrometheus": [\n  "127.0.0.1",\n  12798\n],\n"setupScribes": [\n  {\n    "scFormat": "ScText",\n    "scKind": "StdoutSK",\n    "scName": "stdout",\n    "scRotation": null\n  }\n],\n"defaultScribes": [\n  [\n    "StdoutSK",\n    "stdout"\n  ]\n],\n"rotation": {\n  "rpKeepFilesNum": 10,\n  "rpLogLimitBytes": 5000000,\n  "rpMaxAgeHours": 24\n  },\n'})}),"\n",(0,r.jsx)(n.h3,{id:"fine-grained-logging-control",children:"Fine grained logging control"}),"\n",(0,r.jsxs)(n.p,{children:["It is also possible to have more fine grained control over filtering of trace output, and to match and route trace output to particular backends. This is less efficient than the coarse trace filters above but provides much more precise control. ",(0,r.jsx)(n.code,{children:"options"}),":"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"mapBackends"}),": this routes metrics matching specific names to particular backends. This overrides the defaultBackends listed above. Note that it is an ",(0,r.jsx)(n.strong,{children:"override"})," and not an extension so anything matched here will not go to the default backend, only to the explicitly listed backends."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"mapSubtrace"}),": this section is more expressive, work on its documentation is ongoing."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'\t  "options": {\n\t    "mapBackends": {\n\t      "cardano.node.metrics": [\n\t        "EKGViewBK"\n\t      ]\n\t    },\n\t    "mapSubtrace": {\n\t      "cardano.node.metrics": {\n\t        "subtrace": "Neutral"\n\t      }\n\t    }\n\t  }\n\t}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"peer-to-peer-p2p-parameters-and-tracers",children:"Peer-to-peer (P2P) parameters and tracers"}),"\n",(0,r.jsxs)(n.p,{children:["To run a node in P2P mode, configure the ",(0,r.jsx)(n.code,{children:"EnableP2P"})," setting to ",(0,r.jsx)(n.code,{children:"true"})," (the default is ",(0,r.jsx)(n.code,{children:"False"}),") in the configuration file. Additionally, ensure you specify the topology in the new format as described above."]}),"\n",(0,r.jsx)(n.p,{children:"There are a few new tracers and configuration options that you can set (listed below by\ncomponent):"}),"\n",(0,r.jsx)(n.h4,{id:"outbound-governor",children:"Outbound governor"}),"\n",(0,r.jsxs)(n.p,{children:["The outbound governor is responsible for satisfying targets of root peers, known (",(0,r.jsx)(n.em,{children:"cold"}),",\n",(0,r.jsx)(n.em,{children:"warm"})," and ",(0,r.jsx)(n.em,{children:"hot"}),"), established (",(0,r.jsx)(n.em,{children:"warm"})," and ",(0,r.jsx)(n.em,{children:"hot"}),") and active peers (synonym for ",(0,r.jsx)(n.em,{children:"hot"})," peers)\nand local root peers.  The primary way to configure them is by setting the following\noptions:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"TargetNumberOfRootPeers"})," (",(0,r.jsxs)(n.em,{children:["default value: ",(0,r.jsx)(n.code,{children:"100"})]}),") - a minimal number of root peers\n(unlike other targets this one is one-sided, eg, a node might have more root peers"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"TargetNumberOfKnownPeers"})," (",(0,r.jsxs)(n.em,{children:["default value: ",(0,r.jsx)(n.code,{children:"100"})]}),") - a target of known peers (must be\nlarger or equal to ",(0,r.jsx)(n.code,{children:"TargetNumberOfRootPeers"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"TargetNumberOfEstablishedPeers"})," (",(0,r.jsxs)(n.em,{children:["default value: ",(0,r.jsx)(n.code,{children:"50"})]}),") - a target of all established\npeers (including local roots, ledger peers)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"TargetNumberOfActivePeers"})," (",(0,r.jsxs)(n.em,{children:["default value: ",(0,r.jsx)(n.code,{children:"20"})]}),") - a target for ",(0,r.jsx)(n.em,{children:"hot"})," peers, which\nengage in the consensus protocol."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Let's take note of two additional targets. In the topology file, you have the option to include local root peers. This comprises a list of peer groups, with each group having its own valency. The outbound governor ensures a connection with every local root peer and ensures that at least the specified number of them (the valency) are actively connected (hot). Consequently, the values for ",(0,r.jsx)(n.code,{children:"TargetNumberOfKnownPeers"}),", ",(0,r.jsx)(n.code,{children:"TargetNumberOfEstablishedPeers"}),", and ",(0,r.jsx)(n.code,{children:"TargetNumberOfActivePeers"})," should be set sufficiently high to accommodate these local root peers."]}),"\n",(0,r.jsx)(n.p,{children:"The following traces can be enabled:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"TracePeerSelection"})," (",(0,r.jsx)(n.em,{children:"by default on"}),") - tracks the selection of upstream peers done by the\n",(0,r.jsx)(n.em,{children:"outbound-governor"}),".  ",(0,r.jsx)(n.strong,{children:"Warm peers"})," are ones with which we have an open connection but\ndon't engage in consensus protocol, ",(0,r.jsx)(n.strong,{children:"hot peers"})," are peers which engage in consensus\nprotocol (via ",(0,r.jsx)(n.code,{children:"chain-sync"}),", ",(0,r.jsx)(n.code,{children:"block-fetch"}),", and ",(0,r.jsx)(n.code,{children:"tx-submission"})," mini-protocols), ",(0,r.jsx)(n.strong,{children:"cold\npeers"})," are ones that we know about but the node doesn't have an established\nconnection with.  Note that the notions of ",(0,r.jsx)(n.em,{children:"hot"}),", ",(0,r.jsx)(n.em,{children:"warm"})," and ",(0,r.jsx)(n.em,{children:"cold"})," are only related to usage\nof initiator sides of mini-protocols in a connection (which can be either inbound or\noutbound)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"TracePeerSelectionCounters"})," (",(0,r.jsx)(n.em,{children:"by default on"}),") - traces how many cold/warm/hot/local\nroot peers the node has, it's also available via EKG."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"TracePeerStateActions"})," (",(0,r.jsx)(n.em,{children:"by default on"}),") - includes traces from a component, which\nexecutes peer promotion/demotions between cold/warm and hot states."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"TracePublicRootPeers"})," (",(0,r.jsx)(n.em,{children:"by default off"}),") - traces information about root/ledger peers\n(eg, IP addresses or DNS names of ledger peers, DNS resolution)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"DebugPeerSelectionInitiator"})," and ",(0,r.jsx)(n.code,{children:"DebugPeerSelectionInitiatorResponder"})," (",(0,r.jsx)(n.em,{children:"by default\noff"}),") - debug tracers that log the information about the current state of the ",(0,r.jsx)(n.em,{children:"outbound\ngovernor"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["At this point ",(0,r.jsx)(n.a,{href:"https://ouroboros-network.cardano.intersectmbo.org/ouroboros-network/Ouroboros-Network-PeerSelection-Governor.html",children:"Haddock\ndocumentation"}),"\nof the outbound governor is available."]}),"\n",(0,r.jsx)(n.h4,{id:"peer-sharing",children:"Peer sharing"}),"\n",(0,r.jsx)(n.p,{children:"Peer sharing is a novel feature that provides an additional method for the outbound\ngovernor to reach its targets for known peers. With peer sharing, the node can request\npeer information from other nodes with which it has an established connection."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"IMPORTANT:"})," ",(0,r.jsx)(n.em,{children:"Peer sharing"})," is an experimental feature that is turned off by default.\nPlease be aware that until the availability of Genesis and eclipse evasion, this feature may\nleave a node vulnerable to eclipse attacks."]}),"\n",(0,r.jsx)(n.p,{children:"The main method for configuring peer sharing involves setting the following option:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"PeerSharing"})," (default value: ",(0,r.jsx)(n.code,{children:"PeerSharingDisabled"}),") - this option can take two possible values:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"PeerSharingDisabled"}),": peer sharing is disabled, which means the node won't request peer\ninformation from any other node, and will not respond to such requests from others\n(the mini-protocol won't even start);"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"PeerSharingEnabled"}),": peer Sharing is enabled and the node will notify other nodes\nthat it is permissible to share its address."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"PeerSharing"})," flag interacts with ",(0,r.jsx)(n.code,{children:"PeerAdvertise"})," (",(0,r.jsx)(n.code,{children:"advertise"})," flag in the topology\nfile) values as follows:"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"AdvertisePeer"})," (",(0,r.jsx)(n.code,{children:"advertise: true"}),") is local to the configuration of a specific node. A\nnode might be willing to share those peers it has set as ",(0,r.jsx)(n.code,{children:"PeerAdvertise"}),". Conversely,\n",(0,r.jsx)(n.code,{children:"PeerSharing"})," is about whether the peer (itself) is willing to participate in\n",(0,r.jsx)(n.code,{children:"PeerSharing"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"PeerSharing"})," takes precedence over ",(0,r.jsx)(n.code,{children:"AdvertisePeer"}),". Consider the following example:"]}),"\n",(0,r.jsxs)(n.p,{children:["A block-producing node (BP) has the ",(0,r.jsx)(n.code,{children:"NoPeerSharing"})," flag value (which means it won't participate\nin peer sharing or run the mini-protocol). A relay node has the BP set as a local peer\nconfigured as ",(0,r.jsx)(n.code,{children:"AdvertisePeer"})," (likely a misconfiguration). When the handshake between the\nBP and the relay occurs, the relay will see that the BP doesn't want to participate in\npeer sharing. As a result, it won't engage in peer sharing with it or share its details\nwith others."]}),"\n",(0,r.jsxs)(n.p,{children:["In the handshake, if either party has ",(0,r.jsx)(n.code,{children:"PeerSharingDisabled"}),", that value will be negotiated, resulting in the absence of any peer sharing protocol between the two parties. Peer sharing will only be enabled if both parties have ",(0,r.jsx)(n.code,{children:"PeerSharingEnabled"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"inbound-governor",children:"Inbound governor"}),"\n",(0,r.jsx)(n.p,{children:"The inbound governor is maintaining the responder side of all mini-protocols. Unlike the\noutbound governor, it is a purely responsive component that reacts to the actions of the remote\npeer (its outbound governor)."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"TraceInboundGovernor"})," (",(0,r.jsx)(n.em,{children:"by default on"}),") - traces information about inbound connection,\neg, we track if the remote side is using  our node as ",(0,r.jsx)(n.em,{children:"warm"})," or ",(0,r.jsx)(n.em,{children:"hot peer"}),", traces when\nwe restart a responder."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"TraceInboundGovernorCounters"})," (",(0,r.jsx)(n.em,{children:"by default on"}),") - traces the number of peers which use the\nnode as ",(0,r.jsx)(n.code,{children:"cold"}),", ",(0,r.jsx)(n.code,{children:"warm"})," or ",(0,r.jsx)(n.code,{children:"hot"})," (which we call ",(0,r.jsx)(n.code,{children:"remote cold"}),", ",(0,r.jsx)(n.code,{children:"remote warm"})," or ",(0,r.jsx)(n.code,{children:"remote hot"}),"). Note that we only know if a peer is in the remote cold state if we connect to\nthat peer and it's not using the connection. This information is also available via\nEKG."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"TraceInboundGovernorTransitions"})," (",(0,r.jsx)(n.em,{children:"by default on"}),") - a debug tracer which traces\ntransitions between remote cold, remote warm, and remote hot states."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["The inbound governor is documented in ",(0,r.jsx)(n.a,{href:"https://ouroboros-network.cardano.intersectmbo.org/pdfs/network-spec",children:"The Shelley networking\nprotocol"})," (section 4.5)."]}),"\n",(0,r.jsx)(n.h4,{id:"connection-manager",children:"Connection manager"}),"\n",(0,r.jsx)(n.p,{children:"The connection manager tracks the state of all TCP connections, and enforces various timeouts, for example,\nwhen the connection is not used by either of the sides. The following traces are\navailable:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"TraceConnectionManager"})," (",(0,r.jsx)(n.em,{children:"by default on"}),") - traces information about new inbound or\noutbound connections, connection errors."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"TraceConnectionManagerCounters"})," (",(0,r.jsx)(n.em,{children:"by default on"}),") - traces the number of inbound,\noutbound, duplex (connections which negotiated P2P mode and can use a connection in full\nduplex mode), full duplex (connections that run mini-protocols in both directions, eg,\nat least ",(0,r.jsx)(n.em,{children:"warm"})," and ",(0,r.jsx)(n.em,{children:"remote warm"})," at the same time), unidirectional connections\n(connections with non-P2P nodes, or P2P nodes, which configured themselves as initiator\nonly nodes)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"TraceConnectionManagerTransitions"})," (",(0,r.jsx)(n.em,{children:"by default on"}),") - low level traces which trace\nconnection state changes in the connection manager state machine."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["The connection manager is documented in ",(0,r.jsx)(n.a,{href:"https://ouroboros-network.cardano.intersectmbo.org/pdfs/network-spec",children:"The Shelley networking\nprotocol"})," (section 4)."]}),"\n",(0,r.jsx)(n.h4,{id:"ledger-peers",children:"Ledger peers"}),"\n",(0,r.jsxs)(n.p,{children:["Ledger peers are the relays registered on the chain. Currently, we use a square of the stake\ndistribution to randomly pick new ledger peers. You can enable ",(0,r.jsx)(n.code,{children:"TraceLedgerPeers"})," (",(0,r.jsx)(n.em,{children:"by\ndefault off"}),") to log actions taken by this component."]}),"\n",(0,r.jsx)(n.h4,{id:"server",children:"Server"}),"\n",(0,r.jsxs)(n.p,{children:["The accept loop. You can enable ",(0,r.jsx)(n.code,{children:"TraceServer"})," to log its actions or errors it encounters\n(",(0,r.jsx)(n.em,{children:"by default it is off"}),", however we suggest to turn it on) ."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Please note that this version contains no breaking changes"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>i,x:()=>a});var r=o(6540);const t={},s=r.createContext(t);function i(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);